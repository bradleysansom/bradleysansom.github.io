<!DOCTYPE html>
<html lang="en">

<head>
    <title>Loading... | My Local Area</title>

    <!--Meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="Postcode, Local, Help, Assistance, Services, Council, Weather, Web app">
    <meta name="description"
        content="Moving to a new area? Discover the secrets of your local area with this handy tool. UK only.">
    <meta name="author" content="Bradley Sansom">

    <!--Social Media card metadata is not included as this page should not be linked to-->

    <!--Stylesheets-->
    <link rel="stylesheet" href="style/header.css">
    <link rel="stylesheet" href="style/fonts.css">
    <link rel="stylesheet" href="style/inputs.css">
    <link rel="stylesheet" href="style/themes.css">
    <link rel="stylesheet" href="style/dashboard.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
        integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
        crossorigin="" />
    <link rel="stylesheet" href="style/print/dashboard.css" media="print">

    <!--Icons-->
    <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
    <link rel="icon" href="favicon.png" type="image/x-icon">

    <!--Scripts-->
    <script src="ie.js"></script>
    <script src="darklight.js"></script>
    <script src="receivedPostcode.js"></script>
    <script src="dashboard.js"></script>
    <script src="plateMap.js"></script>
    <script src="plateDemocracy.js"></script>
    <script src="plateCommunity.js"></script>
    <script src="plateWeather.js"></script>
    <script src="plateNhs.js"></script>
    <script src="plateBankHolidays.js"></script>
    <script src="plateCouncil.js"></script>
    <script src="platePolice.js"></script>
    <script src="plateSmallBusiness.js"></script>

    <!--Progressive web app manifest-->
    <link rel="manifest" href="manifest.json">

    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="application-name" content="My Local Area">
    <meta name="apple-mobile-web-app-title" content="My Local Area">
    <meta name="theme-color" content="#008080">
    <meta name="msapplication-navbutton-color" content="#008080">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="msapplication-starturl" content="https://bradleysansom.github.io/local/">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="icon" type="image/png" sizes="864x863" href="favicon.png">
    <link rel="apple-touch-icon" type="image/png" sizes="864x863" href="favicon.png">
</head>


<body class="darkTheme || lightTheme" onload="dashboard()">
    <header>

        <h1 id="logo" style="cursor:pointer;" onClick="location.href = 'index.html'"><span class="sans">My</span> <span
                class="serif">Local</span> <span class="sans">Area</span></h1>
        <div class="toggleContainer"><img src="https://img.icons8.com/material-rounded/24/ffffff/sun.png"
                alt="Light theme" height="24"><label class="switch">
                <input type="checkbox" class="toggleDarkTheme" checked><span class="slider"></span></label><img
                src="https://img.icons8.com/material-rounded/24/ffffff/bright-moon.png" alt="Dark theme" height="24">
        </div>
    </header>
    <div class="postcard" id="postcard">
        <div class="frank">
            <div class="postcode">


                <h1 class="postalCode" id="postalCode" style="line-height:initial;">&nbsp;</h1>
                <h3 class="adminDistrict" id="adminDistrict">&nbsp;</h3>

            </div>
        </div>

    </div>

    <div class="buffet">
        <div class="plate" id="clockTitle">
        </div>
        <div class="plate" id="plateMap">
        </div>
        <div class="plate" id="weather">
            <div class="plateTitle">
                <span class="sans">My </span><span class="serif">Weather</span>
            </div>
            <div class="plateInfo">
                <div class="weatherContainer">
                    <div class="todaysWeather">
                        <span id="todaysDay" class="dayName">Today</span>
                        <span id="todaysTemperature">&nbsp;</span>
                        <span id="todaysWind" class="windForecast">&nbsp;</span>
                        <span id="todaysDescription">&nbsp;</span>
                    </div>
                    <div class="weatherForecast">
                        <div class="aDaysWeather" id="tomorrowsWeather">
                            <span id="tomorrowsDay" class="dayName">&nbsp;</span>
                            <span id="tomorrowsTemperature" class="tempForecast">&nbsp;</span>
                            <span id="tomorrowsWind" class="windForecast">&nbsp;</span>
                        </div>
                        <div class="aDaysWeather" id="dayAftersWeather">
                            <span id="dayAfterDay" class="dayName">&nbsp;</span>
                            <span id="dayAfterTemperature" class="tempForecast">&nbsp;</span>
                            <span id="dayAfterWind" class="windForecast">&nbsp;</span>
                        </div>
                        <div class="aDaysWeather" id="dayAfterThatsWeather">
                            <span id="dayAfterThatDay" class="dayName">&nbsp;</span>
                            <span id="dayAfterThatTemperature" class="tempForecast">&nbsp;</span>
                            <span id="dayAfterThatWind" class="windForecast">&nbsp;</span>
                        </div>
                    </div>
                </div>
                Weather provided by <a href="https://github.com/robertoduessmann/weather-api">GoWeather</a>
            </div>
        </div>
        <div class="plate" id="parliament">
            <div class="plateTitle">
                <span class="sans">My </span><span class="serif">MP</span>
            </div>
            <div class="plateInfo">
                <p>
                    <span class="info" id="memberPostcode"></span> is in the constituency of
                    <span class="info" id="constituency"></span>.<br>Your MP, since
                    <span class="info" id="memberStartYear"></span>, has been
                    <span class="info" id="memberFullName"></span>.<br>
                    <span id="memberPartyContainer">&nbsp;

                    </span>
                    <span id="memberParty">&nbsp;
                    </span>
                </p>
                <div id="memberBadges">
                    <span id="memberImage">

                    </span>
                    <span id="partyImage">

                    </span>
                </div>
                <div class="buttonsrow">
                    <div class="button" id="theyWorkForYouButton">
                        <a id="theyWorkForYouLink" target="blank" href="#">
                            &nbsp;
                        </a>
                    </div>
                    <div class="button" id="writeToThemButton">
                        <a id="writeToThemLink" target="blank" href="#">
                            &nbsp;
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="plate" id="plateCouncil">
            <div class="plateTitle">
                <span class="sans">My </span><span class="serif">Council</span>
            </div>

            <div class="plateInfo">
                <span id="councilPostcode">&nbsp;</span> is in the ward of <span id="councilWard">&nbsp;</span>, part of
                <span id="councilCouncil">&nbsp;</span> Council.
                <div class="buttonsrow">
                    <div class="button" id="councilWebsiteButton">
                        <a id="councilWebsiteLink" target="blank" href="#">
                            Visit the <span id="councilLinkCouncil">&nbsp;</span> Council website
                        </a>
                    </div>
                    <div class="button" id="fixMyStreetButton">
                        <a id="fixMyStreetLink" target="blank" href="#">
                            Report problems such as graffiti or flytipping
                        </a>
                    </div>
                    <div class="button" id="planningButton">
                        <a id="planningLink" target="blank" href="#">
                            Search planning applications and decisions
                        </a>
                    </div>
                </div>
                <div class="parish" id="parishBox">
                    <span id="parishPostcode">&nbsp;</span> is in the parish of <span id="parishCouncil">&nbsp;</span>.
                </div>
            </div>

        </div>
        <div class="plate" id="plateCommunity">
            <div class="plateTitle">
                <span class="sans">My </span><span class="serif">Community</span>
            </div>
            <div class="plateInfo">
                <div id="communityGroups">
                    <span id="groupHeader" style="display:none;">Community groups</span>
                </div>
                <div id="communityServices">
                    <span id="serviceHeader" style="display:none;">Community services</span>

                </div>
                <a href="add/index.html">Add a community organisation</a>
            </div>
        </div>
        <div class="plate" id="plateNhs">
            <div class="plateTitle">
                <span class="sans">My </span><span class="serif" id="healthServiceName">Health</span>
            </div>

            <div class="plateInfo">
                <div id="nhsEnglandPlate" style="display:none;">
                    NHS services are provided in <span id="nhsAdminDistrict">&nbsp;</span> by<br><span id="nhsHa"
                        style="display:none;">&nbsp;</span><br><span id="nhsCcg"
                        style="display:none;">&nbsp;</span><br><span id="nhsPct" style="display:none;">&nbsp;</span><br>
                </div>
                <div class="buttonsrow">
                    <div class="button" id="nhsInfoButton">
                        <a id="nhsInfoLink" target="blank" href="#">
                            &nbsp;</a>
                    </div>
                </div>
                <a href="https://www.nhs.uk/"><img src="https://www.nhs.uk/nhscwebservices/documents/logo1.jpg"
                        height="50" alt="NHS logo" style="border:5px solid white;"></a>
            </div>
        </div>
        <div class="plate" id="plateDoctors">
            <div class="plateTitle">
                <span class="sans">My </span><span class="serif">Doctors</span>
            </div>
            <div class="plateGps">
                The nearest NHS GPs to <span id="gpsPostcode">&nbsp;</span> are: <br>
                <div class="gpLoc" id="gpLoc1">
                    <div class="gpNum">1</div>
                    <div class="gpInfo">
                        <span id="gp1Name">&nbsp;</span><br>
                        <span id="gp1Address1">&nbsp;</span><br>
                        <span id="gp1Address2">&nbsp;</span><br>
                        <span id="gp1Address3">&nbsp;</span><br>
                        <span id="gp1City">&nbsp;</span><br>
                        <span id="gp1County">&nbsp;</span><br>
                        <span id="gp1Postcode">&nbsp;</span><br>
                        <span id="gp1Telephone">&nbsp;</span><br>
                        <span id="gp1Email">&nbsp;</span><br>
                        <span id="gp1Website">&nbsp;</span><br>
                    </div>
                </div>
                <div class="gpLoc" id="gpLoc2">
                    <div class="gpNum">2</div>
                    <div class="gpInfo">
                        <span id="gp2Name">&nbsp;</span><br>
                        <span id="gp2Address1">&nbsp;</span><br>
                        <span id="gp2Address2">&nbsp;</span><br>
                        <span id="gp2Address3">&nbsp;</span><br>
                        <span id="gp2City">&nbsp;</span><br>
                        <span id="gp2County">&nbsp;</span><br>
                        <span id="gp2Postcode">&nbsp;</span><br>
                        <span id="gp2Telephone">&nbsp;</span><br>
                        <span id="gp2Email">&nbsp;</span><br>
                        <span id="gp2Website">&nbsp;</span><br>
                    </div>
                </div>
            </div>
        </div>
        <div class="plate" id="plateDentists">
            <div class="plateTitle">
                <span class="sans">My </span><span class="serif">Dentists</span>
            </div>
            <div class="plateDents">
                The nearest NHS dentists to <span id="dentsPostcode">&nbsp;</span> are: <br>
                <div class="dentLoc" id="dentLoc1">
                    <div class="dentNum">1</div>
                    <div class="dentInfo">
                        <span id="dent1Name">&nbsp;</span><br>
                        <span id="dent1Address1">&nbsp;</span><br>
                        <span id="dent1Address2">&nbsp;</span><br>
                        <span id="dent1Address3">&nbsp;</span><br>
                        <span id="dent1City">&nbsp;</span><br>
                        <span id="dent1County">&nbsp;</span><br>
                        <span id="dent1Postcode">&nbsp;</span><br>
                        <span id="dent1Telephone">&nbsp;</span><br>
                        <span id="dent1Email">&nbsp;</span><br>
                        <span id="dent1Website">&nbsp;</span><br>
                    </div>
                </div>
                <div class="dentLoc" id="dentLoc2">
                    <div class="dentNum">2</div>
                    <div class="dentInfo">
                        <span id="dent2Name">&nbsp;</span><br>
                        <span id="dent2Address1">&nbsp;</span><br>
                        <span id="dent2Address2">&nbsp;</span><br>
                        <span id="dent2Address3">&nbsp;</span><br>
                        <span id="dent2City">&nbsp;</span><br>
                        <span id="dent2County">&nbsp;</span><br>
                        <span id="dent2Postcode">&nbsp;</span><br>
                        <span id="dent2Telephone">&nbsp;</span><br>
                        <span id="dent2Email">&nbsp;</span><br>
                        <span id="dent2Website">&nbsp;</span><br>
                    </div>
                </div>
            </div>
        </div>
        <div class="plate" id="plateBankHolidays">
            <div class="plateTitle">
                <span class="sans">My </span><span class="serif">Bank Holidays</span>
            </div>

            <div class="plateInfo">
                <span id="theNext">The next bank holiday in</span>
                <span id="nation"></span>
                <span id="is">is</span>
                <span id="bankHolidayName"></span>
                <span id="on">on</span>
                <span id="bankHolidayDay"></span>
                <span id="bankHolidayMonth"></span>
                <span id="bankHolidayYear"></span>
            </div>

        </div>
        <div class="plate" id="platePolice">
            <div class="plateTitle">
                <span class="sans">My </span><span class="serif">Police</span>
            </div>

            <div class="plateInfo">
                <span id="policePostcode">&nbsp;</span> is served by <span id="policeForce">&nbsp;</span>, in the <span
                    id="policeNeighbourhood">&nbsp;</span> neighbourhood.
                <div class="buttonsrow" id="policeRow">
                    <div class="button" id="policeInfoButton">
                        <a id="policeInfoLink" target="blank" href="#">
                            &nbsp;</a>
                    </div>
                </div>
            </div>

        </div>
        <div class="plate" id="plateShopSmall">
            <div class="plateTitle">
                <span class="sans">My </span><span class="serif">Local Businesses</span>
            </div>
            <h3>Find small businesses near you</h3>
            <div class="buttonsrow">
                <div class="button" id="shopSmallButton">
                    <a id="shopSmallLink" target="blank" href="#">
                        Shop Small
                    </a>
                </div>
            </div>
            <h5>Shop Small is a service provided by American Express</h5>
        </div>
        <div class="plate" id="plateTakeaway">
            <div class="plateTitle">
                <span class="sans">My </span><span class="serif">Food Delivery</span>
            </div>
            <h3>Find local restaurants and takeaways available for delivery or collection</h3>
            <div class="buttonsrow">
                <div class="button" id="justEatButton">
                    <a id="justEatLink" target="blank" href="#">
                        Just Eat
                    </a>

                </div>
                <div class="button" id="foodHubButton">
                    <a id="foodHubLink" target="blank" href="#">
                        FoodHub
                    </a>

                </div>
                <div class="button" id="uberEatsButton">
                    <a id="uberEatsLink" target="blank" href="https://www.ubereats.com/near-me">
                        Uber Eats
                    </a>

                </div>
                <div class="button" id="deliverooButton">
                    <a id="deliverooLink" target="blank" href="https://deliveroo.co.uk/">
                        Deliveroo
                    </a>

                </div>
            </div>
        </div>
    </div>



    <div class="baseboard">
        <ul>
            <li id="credit">
                <a href="contact">Bradley Sansom</a>
            </li>
            <li class="bullet" id="bullet1">
                •
            </li>
            <li id="helplink">
                <a href="help">Help and Support</a>
            </li>
            <li class="bullet" id="bullet2">
                •
            </li>
            <li id="iconslink">
                Icons by <a href="https://icons8.com/">Icons8</a>
            </li>
            <li class="bullet" id="bullet3">
                •
            </li>
            <li id="mapreport">
                <a href="https://www.openstreetmap.org/fixthemap">Report a map problem</a>
            </li>
            <li class="bullet" id="bullet4">
                •
            </li>
            <li id="printthis">
                <a href="#" onclick="window.print();return false;">Print this page</a>
            </li>

            <!--Theme toggle for small screens-->
            <li class="secondaryToggle" id="bullet5">
                •
            </li>
            <li class="secondaryToggle">
                <input type="button" class="secondaryToggleDarkTheme" value="Toggle day/night">
            </li>


        </ul>
    </div>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
        integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
        crossorigin=""></script>
    <script>
        async function dashboard() {

            postcodeHeading();
            dashboardDarklight();
            var clockUpdate = setInterval(plateClock, 3000);

            function plateClock() {
                var currentTime = new Date();
                var currentHours = currentTime.getHours();
                var currentMinutes = currentTime.getMinutes();
                currentMinutes = (currentMinutes < 10 ? "0" : "") + currentMinutes;
                currentHours = (currentHours == 0) ? 12 : currentHours;
                var currentTimeString = currentHours + ":" + currentMinutes;
                document.getElementById("clockTitle").innerHTML = currentTimeString;
            }
            document.getElementById("clockTitle").style.backgroundImage = "url(images/housing.jpg)";

            if (await loadPostcodeData()) {
                await storePostcodeData();
                plateMap();
                plateTakeaway();
                plateCouncil();
                await plateBankHolidays();
                await plateWeather();

                await plateDemocracy();

                await plateNhs();

                await plateCommunity();
                plateSmallBusiness();
                await platePolice();
            }

        }
    </script>

</body>

</html>
