<!DOCTYPE html>
<html lang="en">

<head>

    <title>My Local Area</title>

    <!--Meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="Postcode, Local, Help, Assistance, Services, Council, Weather, Web app">
    <meta name="description" content="Moving to a new area? Discover the secrets of your local area with this handy tool. UK only.">
    <meta name="author" content="Bradley Sansom">

    <!--Tags for Open Graph social media cards-->
    <!--See https://ogp.me/ for protocol-->
    <meta property="og:title" content="My Local Area">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://bradleysansom.github.io/local/images/housing.jpg">
    <meta property="og:url" content="https://bradleysansom.github.io/local/index.html">
    <meta property="og:description" content="Moving to a new area? Discover the secrets of your local area with this handy tool. UK only.">
    <meta property="og:locale" content="en_GB">
    <meta property="og:site_name" content="Bradley Sansom">

    <!--Stylesheets-->
    <link rel="stylesheet" href="style/header.css">
    <link rel="stylesheet" href="style/big.css">
    <link rel="stylesheet" href="style/fonts.css">
    <link rel="stylesheet" href="style/inputs.css">
    <link rel="stylesheet" href="style/themes.css">
    <link rel="stylesheet" href="style/print/index.css" media="print">

    <!--Icons-->
    <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
    <link rel="icon" href="favicon.png" type="image/x-icon">

    <!--Scripts-->
    <script src="ie.js"></script>
    <script src="darklight.js"></script>
    <script src="postcodes.js"></script>
    <script>
        //Script to allow the 'enter' key to be used to trigger the 'submit' function

        document.onkeyup = enter;

        function enter(e) {
            if (e.which == 13) storePostcode();
        }
    </script>
    <script>
        //Script to register the service worker

        if (navigator.serviceWorker) {
            console.log('Registering service worker...');
            console.log('Version 5/3/21 23:14');
            navigator.serviceWorker.register('serviceWorker.js');
            console.log('Service worker successfully registered!');
        }
    </script>


    <!--Progressive web app manifest-->
    <link rel="manifest" href="manifest.json">

    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="application-name" content="My Local Area">
    <meta name="apple-mobile-web-app-title" content="My Local Area">
    <meta name="theme-color" content="#008080">
    <meta name="msapplication-navbutton-color" content="#008080">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="msapplication-starturl" content="https://bradleysansom.github.io/local/">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="icon" type="image/png" sizes="886x886" href="favicon.png">
    <link rel="apple-touch-icon" type="image/png" sizes="886x886" href="favicon.png">
</head>


<body class="darkTheme || lightTheme">
    <header>
        <!--Logo-->
        <h1 id="logo" style="cursor:pointer;" onClick="location.href = '#'"><span class="sans">My</span> <span class="serif">Local</span> <span class="sans">Area</span></h1>

        <!--Theme switcher-->
        <div class="toggleContainer">
            <img src="https://img.icons8.com/material-rounded/24/ffffff/sun.png" alt="Light theme" height="24"><label class="switch">
            <input type="checkbox" class="toggleDarkTheme" checked><span class="slider"></span></label><img src="https://img.icons8.com/material-rounded/24/ffffff/bright-moon.png" alt="Dark theme" height="24">
        </div>

    </header>

    <!--Main content-->
    <div id="cinemascope">

        <!--Location pin icon-->
        <div id="locatorShadow">
            <div id="locator">
                <div id="toolbox">

                    <!--Blurb-->
                    <h1 id="headline">Unearth the secrets of your neighbourhood</h1>
                    <h3 id="subtitle">Just enter your postcode to get started</h3>

                    <!--Postcode input-->
                    <div class="myPostcode">
                        <form id="postcodeForm" onsubmit="return false">
                            <input class="input-text" name="userPostcode" type="text" id="userPostcode" spellcheck="false" placeholder="Enter your postcode and then..." pattern="^(([a-zA-Z]{1,2}[0-9][a-zA-Z0-9]?|ASCN|STHL|TDCU|BBND|ascn|sthl|tdcu|bbnd|[BFS]IQQ|[bfs]iqq|PCRN|pcrn|TKCA|tkca) ?[0-9][a-zA-Z]{2}|BFPO ?[0-9]{1,4}|bfpo ?[0-9]{1,4}|(KY[0-9]|MSR|VG|AI)[ -]?[0-9]{4}|[A-Z]{2} ?[0-9]{2}|GE ?CX|GIR ?0A{2}|SAN ?TA1)$"
                                required>
                            <input class="input-submit" type="button" id="submitPostcode" onclick="storePostcode()" value="Explore"></form>

                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <ul>
            <li id="credit">
                <a href="contact">Bradley Sansom</a>
            </li>
            <li class="bullet" id="bullet1">
                •
            </li>
            <li id="helplink">
                <a href="help">Help and Support</a>
            </li>
            <li class="bullet" id="bullet2">
                •
            </li>
            <li id="iconslink">
                Icons by <a href="https://icons8.com/">Icons8</a>
            </li>

            <!--Theme toggle for small screens-->
            <li class="secondaryToggle" id="bullet3">
                •
            </li>
            <li class="secondaryToggle">
                <input type="button" class="secondaryToggleDarkTheme" value="Toggle day/night">
            </li>


        </ul>
    </footer>
    <script>
        console.log('checking theme preference');
        checkTheme(preference);
    </script>
</body>


</html>